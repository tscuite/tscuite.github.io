(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42cafc26","chunk-f46a000e","chunk-a1cced78","chunk-74bc87d9","chunk-2d0c1f78","chunk-2d0a4474"],{"0680":function(e,t,a){"use strict";a.r(t),a.d(t,"getDict",(function(){return l}));a("96cf");var r=a("1da1"),i=a("4360"),l=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["store"].dispatch("dictionary/getDictionary",t);case 2:return e.abrupt("return",i["store"].getters["dictionary/getDictionary"][t]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"22a6":function(e,t,a){},"2a18":function(e,t,a){"use strict";a.r(t),a.d(t,"toUpperCase",(function(){return r})),a.d(t,"toLowerCase",(function(){return i})),a.d(t,"toSQLLine",(function(){return l})),a.d(t,"toHump",(function(){return n}));a("ac1f"),a("5319");var r=function(e){return e[0]?e.replace(e[0],e[0].toUpperCase()):""},i=function(e){return e[0]?e.replace(e[0],e[0].toLowerCase()):""},l=function(e){return"ID"===e?"ID":e.replace(/([A-Z])/g,"_$1").toLowerCase()},n=function(e){return e.replace(/\_(\w)/g,(function(e,t){return t.toUpperCase()}))}},"47fe":function(e,t,a){"use strict";a.r(t),a.d(t,"preview",(function(){return i})),a.d(t,"createTemp",(function(){return l})),a.d(t,"getDB",(function(){return n})),a.d(t,"getTable",(function(){return o})),a.d(t,"getColumn",(function(){return d})),a.d(t,"getSysHistory",(function(){return s})),a.d(t,"rollback",(function(){return c})),a.d(t,"getMeta",(function(){return u})),a.d(t,"delSysHistory",(function(){return f}));var r=a("b775"),i=function(e){return Object(r["default"])({url:"/autoCode/preview",method:"post",data:e})},l=function(e){return Object(r["default"])({url:"/autoCode/createTemp",method:"post",data:e,responseType:"blob"})},n=function(){return Object(r["default"])({url:"/autoCode/getDB",method:"get"})},o=function(e){return Object(r["default"])({url:"/autoCode/getTables",method:"get",params:e})},d=function(e){return Object(r["default"])({url:"/autoCode/getColumn",method:"get",params:e})},s=function(e){return Object(r["default"])({url:"/autoCode/getSysHistory",method:"post",data:e})},c=function(e){return Object(r["default"])({url:"/autoCode/rollback",method:"post",data:e})},u=function(e){return Object(r["default"])({url:"/autoCode/getMeta",method:"post",data:e})},f=function(e){return Object(r["default"])({url:"/autoCode/delSysHistory",method:"post",data:e})}},5319:function(e,t,a){"use strict";var r=a("d784"),i=a("825a"),l=a("7b0b"),n=a("50c4"),o=a("a691"),d=a("1d80"),s=a("8aa5"),c=a("14c3"),u=Math.max,f=Math.min,p=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,b=/\$([$&'`]|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};r("replace",2,(function(e,t,a,r){var v=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,h=r.REPLACE_KEEPS_$0,y=v?"$":"$0";return[function(a,r){var i=d(this),l=void 0==a?void 0:a[e];return void 0!==l?l.call(a,i,r):t.call(String(i),a,r)},function(e,r){if(!v&&h||"string"===typeof r&&-1===r.indexOf(y)){var l=a(t,e,this,r);if(l.done)return l.value}var d=i(e),p=String(this),m="function"===typeof r;m||(r=String(r));var b=d.global;if(b){var x=d.unicode;d.lastIndex=0}var w=[];while(1){var k=c(d,p);if(null===k)break;if(w.push(k),!b)break;var T=String(k[0]);""===T&&(d.lastIndex=s(p,n(d.lastIndex),x))}for(var M="",O=0,C=0;C<w.length;C++){k=w[C];for(var S=String(k[0]),F=u(f(o(k.index),p.length),0),_=[],$=1;$<k.length;$++)_.push(g(k[$]));var j=k.groups;if(m){var R=[S].concat(_,F,p);void 0!==j&&R.push(j);var D=String(r.apply(void 0,R))}else D=N(S,p,F,_,j,r);F>=O&&(M+=p.slice(O,F)+D,O=F+S.length)}return M+p.slice(O)}];function N(e,a,r,i,n,o){var d=r+e.length,s=i.length,c=b;return void 0!==n&&(n=l(n),c=m),t.call(o,c,(function(t,l){var o;switch(l.charAt(0)){case"$":return"$";case"&":return e;case"`":return a.slice(0,r);case"'":return a.slice(d);case"<":o=n[l.slice(1,-1)];break;default:var c=+l;if(0===c)return t;if(c>s){var u=p(c/10);return 0===u?t:u<=s?void 0===i[u-1]?l.charAt(1):i[u-1]+l.charAt(1):t}o=i[c-1]}return void 0===o?"":o}))}}))},"539a":function(e,t,a){},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var r=a("1d80"),i=a("5899"),l="["+i+"]",n=RegExp("^"+l+l+"*"),o=RegExp(l+l+"*$"),d=function(e){return function(t){var a=String(r(t));return 1&e&&(a=a.replace(n,"")),2&e&&(a=a.replace(o,"")),a}};e.exports={start:d(1),end:d(2),trim:d(3)}},7156:function(e,t,a){var r=a("861d"),i=a("d2bb");e.exports=function(e,t,a){var l,n;return i&&"function"==typeof(l=t.constructor)&&l!==a&&r(n=l.prototype)&&n!==a.prototype&&i(e,n),e}},"90db":function(e,t,a){"use strict";var r=a("22a6"),i=a.n(r);i.a},a434:function(e,t,a){"use strict";var r=a("23e7"),i=a("23cb"),l=a("a691"),n=a("50c4"),o=a("7b0b"),d=a("65f0"),s=a("8418"),c=a("1dde"),u=a("ae40"),f=c("splice"),p=u("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,b=Math.min,g=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f||!p},{splice:function(e,t){var a,r,c,u,f,p,h=o(this),y=n(h.length),N=i(e,y),x=arguments.length;if(0===x?a=r=0:1===x?(a=0,r=y-N):(a=x-2,r=b(m(l(t),0),y-N)),y+a-r>g)throw TypeError(v);for(c=d(h,r),u=0;u<r;u++)f=N+u,f in h&&s(c,u,h[f]);if(c.length=r,a<r){for(u=N;u<y-r;u++)f=u+r,p=u+a,f in h?h[p]=h[f]:delete h[p];for(u=y;u>y-r+a;u--)delete h[u-1]}else if(a>r)for(u=y-r;u>N;u--)f=u+r-1,p=u+a-1,f in h?h[p]=h[f]:delete h[p];for(u=0;u<a;u++)h[u+N]=arguments[u+2];return h.length=y-r+a,c}})},a9e3:function(e,t,a){"use strict";var r=a("83ab"),i=a("da84"),l=a("94ca"),n=a("6eeb"),o=a("5135"),d=a("c6b6"),s=a("7156"),c=a("c04e"),u=a("d039"),f=a("7c73"),p=a("241c").f,m=a("06cf").f,b=a("9bf2").f,g=a("58a8").trim,v="Number",h=i[v],y=h.prototype,N=d(f(y))==v,x=function(e){var t,a,r,i,l,n,o,d,s=c(e,!1);if("string"==typeof s&&s.length>2)if(s=g(s),t=s.charCodeAt(0),43===t||45===t){if(a=s.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(s.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+s}for(l=s.slice(2),n=l.length,o=0;o<n;o++)if(d=l.charCodeAt(o),d<48||d>i)return NaN;return parseInt(l,r)}return+s};if(l(v,!h(" 0o1")||!h("0b1")||h("+0x1"))){for(var w,k=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof k&&(N?u((function(){y.valueOf.call(a)})):d(a)!=v)?s(new h(x(t)),a,k):x(t)},T=r?p(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),M=0;T.length>M;M++)o(h,w=T[M])&&!o(k,w)&&b(k,w,m(h,w));k.prototype=y,y.constructor=k,n(i,v,k)}},b81f:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[a("div",{style:{fontSize:"16px",paddingLeft:"20px"}},[e._v(" 点这里从现有数据库创建代码 "),a("i",{staticClass:"header-icon el-icon-thumb"})])]),a("el-form",{ref:"getTableForm",attrs:{inline:!0,model:e.dbform,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"数据库名",prop:"structName"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择数据库"},on:{change:e.getTable},model:{value:e.dbform.dbName,callback:function(t){e.$set(e.dbform,"dbName",t)},expression:"dbform.dbName"}},e._l(e.dbOptions,(function(e){return a("el-option",{key:e.database,attrs:{label:e.database,value:e.database}})})),1)],1),a("el-form-item",{attrs:{label:"表名",prop:"structName"}},[a("el-select",{attrs:{disabled:!e.dbform.dbName,filterable:"",placeholder:"请选择表"},model:{value:e.dbform.tableName,callback:function(t){e.$set(e.dbform,"tableName",t)},expression:"dbform.tableName"}},e._l(e.tableOptions,(function(e){return a("el-option",{key:e.tableName,attrs:{label:e.tableName,value:e.tableName}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.getColumn}},[e._v("使用此表创建")])],1)],1)],2)],1),a("el-divider"),a("el-form",{ref:"autoCodeForm",attrs:{rules:e.rules,model:e.form,"label-width":"120px",inline:!0}},[a("el-form-item",{attrs:{label:"Struct名称",prop:"structName"}},[a("el-input",{attrs:{placeholder:"首字母自动转换大写"},model:{value:e.form.structName,callback:function(t){e.$set(e.form,"structName",t)},expression:"form.structName"}})],1),a("el-form-item",{attrs:{label:"tableName",prop:"tableName"}},[a("el-input",{attrs:{placeholder:"指定表名（非必填）"},model:{value:e.form.tableName,callback:function(t){e.$set(e.form,"tableName",t)},expression:"form.tableName"}})],1),a("el-form-item",{attrs:{label:"Struct简称",prop:"abbreviation"}},[a("el-input",{attrs:{placeholder:"简称会作为入参对象名和路由group"},model:{value:e.form.abbreviation,callback:function(t){e.$set(e.form,"abbreviation",t)},expression:"form.abbreviation"}})],1),a("el-form-item",{attrs:{label:"Struct中文名称",prop:"description"}},[a("el-input",{attrs:{placeholder:"中文描述作为自动api描述"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),a("el-form-item",{attrs:{label:"文件名称",prop:"packageName"}},[a("el-input",{attrs:{placeholder:"生成文件的默认名称(建议为驼峰格式,首字母小写,如sysXxxXxxx)"},model:{value:e.form.packageName,callback:function(t){e.$set(e.form,"packageName",t)},expression:"form.packageName"}})],1),a("el-form-item",[a("template",{slot:"label"},[a("el-tooltip",{attrs:{content:"注：把自动生成的API注册进数据库",placement:"bottom",effect:"light"}},[a("div",[e._v(" 自动创建API ")])])],1),a("el-checkbox",{model:{value:e.form.autoCreateApiToSql,callback:function(t){e.$set(e.form,"autoCreateApiToSql",t)},expression:"form.autoCreateApiToSql"}})],2),a("el-form-item",[a("template",{slot:"label"},[a("el-tooltip",{attrs:{content:"注：自动迁移生成的文件到ymal配置的对应位置",placement:"bottom",effect:"light"}},[a("div",[e._v(" 自动移动文件 ")])])],1),a("el-checkbox",{model:{value:e.form.autoMoveFile,callback:function(t){e.$set(e.form,"autoMoveFile",t)},expression:"form.autoMoveFile"}})],2)],1),a("div",{staticClass:"button-box clearflex"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.editAndAddField()}}},[e._v("新增Field")])],1),a("el-table",{attrs:{data:e.form.fields,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"序列",width:"100"}}),a("el-table-column",{attrs:{prop:"fieldName",label:"Field名"}}),a("el-table-column",{attrs:{prop:"fieldDesc",label:"中文名"}}),a("el-table-column",{attrs:{prop:"fieldJson",label:"FieldJson"}}),a("el-table-column",{attrs:{prop:"fieldType",label:"Field数据类型",width:"130"}}),a("el-table-column",{attrs:{prop:"dataType",label:"数据库字段类型",width:"130"}}),a("el-table-column",{attrs:{prop:"dataTypeLong",label:"数据库字段长度",width:"130"}}),a("el-table-column",{attrs:{prop:"columnName",label:"数据库字段",width:"130"}}),a("el-table-column",{attrs:{prop:"comment",label:"数据库字段描述",width:"130"}}),a("el-table-column",{attrs:{prop:"fieldSearchType",label:"搜索条件",width:"130"}}),a("el-table-column",{attrs:{prop:"dictType",label:"字典",width:"130"}}),a("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.editAndAddField(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"text",disabled:0===t.$index},on:{click:function(a){return e.moveUpField(t.$index)}}},[e._v("上移")]),a("el-button",{attrs:{size:"mini",type:"text",disabled:t.$index+1===e.form.fields.length},on:{click:function(a){return e.moveDownField(t.$index)}}},[e._v("下移")]),a("el-popover",{attrs:{placement:"top"},model:{value:t.row.visible,callback:function(a){e.$set(t.row,"visible",a)},expression:"scope.row.visible"}},[a("p",[e._v("确定删除吗？")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.row.visible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.deleteField(t.$index)}}},[e._v("确定")])],1),a("el-button",{attrs:{slot:"reference",size:"mini",type:"danger",icon:"el-icon-delete"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),a("el-tag",{attrs:{type:"danger"}},[e._v("id , created_at , updated_at , deleted_at 会自动生成请勿重复创建")]),a("div",{staticClass:"button-box clearflex"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.enterForm(!0)}}},[e._v("预览代码")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.enterForm(!1)}}},[e._v("生成代码")])],1),a("el-dialog",{attrs:{title:"组件内容",visible:e.dialogFlag},on:{"update:visible":function(t){e.dialogFlag=t}}},[e.dialogFlag?a("FieldDialog",{ref:"fieldDialog",attrs:{"dialog-middle":e.dialogMiddle}}):e._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.closeDialog}},[e._v("取 消")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.enterDialog}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{visible:e.previewFlag},on:{"update:visible":function(t){e.previewFlag=t}}},[e.previewFlag?a("PreviewCodeDialg",{attrs:{"preview-code":e.preViewCode}}):e._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.previewFlag=!1}}},[e._v("确 定")])],1)],1)],1)},i=[],l=(a("a4d3"),a("e01a"),a("d81d"),a("45fc"),a("a434"),a("a9e3"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("96cf"),a("1da1")),n=a("c77a"),o=a("ca09"),d=a("2a18"),s=a("47fe"),c=a("0680"),u={fieldName:"",fieldDesc:"",fieldType:"",dataType:"",fieldJson:"",columnName:"",dataTypeLong:"",comment:"",fieldSearchType:"",dictType:""},f={name:"AutoCode",components:{FieldDialog:n["default"],PreviewCodeDialg:o["default"]},data:function(){return{activeNames:[""],preViewCode:{},dbform:{dbName:"",tableName:""},dbOptions:[],tableOptions:[],addFlag:"",fdMap:{},form:{structName:"",tableName:"",packageName:"",abbreviation:"",description:"",autoCreateApiToSql:!1,autoMoveFile:!1,fields:[]},rules:{structName:[{required:!0,message:"请输入结构体名称",trigger:"blur"}],abbreviation:[{required:!0,message:"请输入结构体简称",trigger:"blur"}],description:[{required:!0,message:"请输入结构体描述",trigger:"blur"}],packageName:[{required:!0,message:"文件名称：sysXxxxXxxx",trigger:"blur"}]},dialogMiddle:{},bk:{},dialogFlag:!1,previewFlag:!1}},created:function(){this.getDb(),this.setFdMap();var e=this.$route.params.id;e&&this.getAutoCodeJson(e)},methods:{editAndAddField:function(e){this.dialogFlag=!0,e?(this.addFlag="edit",this.bk=JSON.parse(JSON.stringify(e)),this.dialogMiddle=e):(this.addFlag="add",this.dialogMiddle=JSON.parse(JSON.stringify(u)))},moveUpField:function(e){if(0!==e){var t=this.form.fields[e-1];this.form.fields.splice(e-1,1),this.form.fields.splice(e,0,t)}},moveDownField:function(e){var t=this.form.fields.length;if(e!==t-1){var a=this.form.fields[e+1];this.form.fields.splice(e+1,1),this.form.fields.splice(e,0,a)}},enterDialog:function(){var e=this;this.$refs.fieldDialog.$refs.fieldDialogFrom.validate((function(t){if(!t)return!1;e.dialogMiddle.fieldName=Object(d["toUpperCase"])(e.dialogMiddle.fieldName),"add"===e.addFlag&&e.form.fields.push(e.dialogMiddle),e.dialogFlag=!1}))},closeDialog:function(){"edit"===this.addFlag&&(this.dialogMiddle=this.bk),this.dialogFlag=!1},deleteField:function(e){this.form.fields.splice(e,1)},enterForm:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!(t.form.fields.length<=0)){a.next=3;break}return t.$message({type:"error",message:"请填写至少一个field"}),a.abrupt("return",!1);case 3:if(!t.form.fields.some((function(e){return e.fieldName===t.form.structName}))){a.next=6;break}return t.$message({type:"error",message:"存在与结构体同名的字段"}),a.abrupt("return",!1);case 6:t.$refs.autoCodeForm.validate(function(){var a=Object(l["a"])(regeneratorRuntime.mark((function a(r){var i,l,n,o,c,u,f;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r){a.next=27;break}if(t.form.structName=Object(d["toUpperCase"])(t.form.structName),t.form.structName!==t.form.abbreviation){a.next=5;break}return t.$message({type:"error",message:"structName和struct简称不能相同"}),a.abrupt("return",!1);case 5:if(t.form.humpPackageName=Object(d["toSQLLine"])(t.form.packageName),!e){a.next=14;break}return a.next=9,Object(s["preview"])(t.form);case 9:i=a.sent,t.preViewCode=i.data.autoCode,t.previewFlag=!0,a.next=25;break;case 14:return a.next=16,Object(s["createTemp"])(t.form);case 16:if(n=a.sent,"false"!==(null===(l=n.headers)||void 0===l?void 0:l.success)){a.next=21;break}return a.abrupt("return");case 21:t.$message({type:"success",message:"自动化代码创建成功，正在下载"});case 22:o=new Blob([n]),c="ginvueadmin.zip","download"in document.createElement("a")?(u=window.URL.createObjectURL(o),f=document.createElement("a"),f.style.display="none",f.href=u,f.setAttribute("download",c),document.body.appendChild(f),f.click(),document.body.removeChild(f),window.URL.revokeObjectURL(u)):window.navigator.msSaveBlob(o,c);case 25:a.next=28;break;case 27:return a.abrupt("return",!1);case 28:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());case 7:case"end":return a.stop()}}),a)})))()},getDb:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["getDB"])();case 2:a=t.sent,0===a.code&&(e.dbOptions=a.data.dbs);case 4:case"end":return t.stop()}}),t)})))()},getTable:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["getTable"])({dbName:e.dbform.dbName});case 2:a=t.sent,0===a.code&&(e.tableOptions=a.data.tables),e.dbform.tableName="";case 5:case"end":return t.stop()}}),t)})))()},getColumn:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=["id","created_at","updated_at","deleted_at"],t.next=3,Object(s["getColumn"])(e.dbform);case 3:r=t.sent,0===r.code&&(i=Object(d["toHump"])(e.dbform.tableName),e.form.structName=Object(d["toUpperCase"])(i),e.form.tableName=e.dbform.tableName,e.form.packageName=i,e.form.abbreviation=i,e.form.description=i+"表",e.form.autoCreateApiToSql=!0,e.form.fields=[],r.data.columns&&r.data.columns.map((function(t){if(!a.some((function(e){return e===t.columnName}))){var r=Object(d["toHump"])(t.columnName);e.form.fields.push({fieldName:Object(d["toUpperCase"])(r),fieldDesc:t.columnComment||r+"字段",fieldType:e.fdMap[t.dataType],dataType:t.dataType,fieldJson:r,dataTypeLong:t.dataTypeLong,columnName:t.columnName,comment:t.columnComment,fieldSearchType:"",dictType:""})}})));case 5:case"end":return t.stop()}}),t)})))()},setFdMap:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=["string","int","bool","float64","time.Time"],a.map(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["getDict"])(a);case 2:r=t.sent,r&&r.map((function(t){e.fdMap[t.label]=a}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))()},getAutoCodeJson:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(s["getMeta"])({id:Number(e)});case 2:r=a.sent,0===r.code&&(t.form=JSON.parse(r.data.meta));case 4:case"end":return a.stop()}}),a)})))()}}},p=f,m=(a("90db"),a("2877")),b=Object(m["a"])(p,r,i,!1,null,"66deafda",null);t["default"]=b.exports},c77a:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",{staticStyle:{color:"red"}},[e._v("搜索时如果条件为LIKE只支持字符串")]),a("el-form",{ref:"fieldDialogFrom",attrs:{model:e.dialogMiddle,"label-width":"120px","label-position":"left",rules:e.rules}},[a("el-form-item",{attrs:{label:"Field名称",prop:"fieldName"}},[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.dialogMiddle.fieldName,callback:function(t){e.$set(e.dialogMiddle,"fieldName",t)},expression:"dialogMiddle.fieldName"}})],1),a("el-col",{attrs:{offset:1,span:2}},[a("el-button",{attrs:{size:"mini"},on:{click:e.autoFill}},[e._v("自动填充")])],1)],1),a("el-form-item",{attrs:{label:"Field中文名",prop:"fieldDesc"}},[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.dialogMiddle.fieldDesc,callback:function(t){e.$set(e.dialogMiddle,"fieldDesc",t)},expression:"dialogMiddle.fieldDesc"}})],1)],1),a("el-form-item",{attrs:{label:"FieldJSON",prop:"fieldJson"}},[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.dialogMiddle.fieldJson,callback:function(t){e.$set(e.dialogMiddle,"fieldJson",t)},expression:"dialogMiddle.fieldJson"}})],1)],1),a("el-form-item",{attrs:{label:"数据库字段名",prop:"columnName"}},[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.dialogMiddle.columnName,callback:function(t){e.$set(e.dialogMiddle,"columnName",t)},expression:"dialogMiddle.columnName"}})],1)],1),a("el-form-item",{attrs:{label:"数据库字段描述",prop:"comment"}},[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.dialogMiddle.comment,callback:function(t){e.$set(e.dialogMiddle,"comment",t)},expression:"dialogMiddle.comment"}})],1)],1),a("el-form-item",{attrs:{label:"Field数据类型",prop:"fieldType"}},[a("el-col",{attrs:{span:8}},[a("el-select",{attrs:{placeholder:"请选择field数据类型",clearable:""},on:{change:e.getDbfdOptions},model:{value:e.dialogMiddle.fieldType,callback:function(t){e.$set(e.dialogMiddle,"fieldType",t)},expression:"dialogMiddle.fieldType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-form-item",{attrs:{label:"数据库字段类型",prop:"dataType"}},[a("el-col",{attrs:{span:8}},[a("el-select",{attrs:{disabled:!e.dialogMiddle.fieldType,placeholder:"请选择数据库字段类型",clearable:""},model:{value:e.dialogMiddle.dataType,callback:function(t){e.$set(e.dialogMiddle,"dataType",t)},expression:"dialogMiddle.dataType"}},e._l(e.dbfdOptions,(function(e){return a("el-option",{key:e.label,attrs:{label:e.label,value:e.label}})})),1)],1)],1),a("el-form-item",{attrs:{label:"数据库字段长度",prop:"dataTypeLong"}},[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"自定义类型必须指定长度",disabled:!e.dialogMiddle.dataType},model:{value:e.dialogMiddle.dataTypeLong,callback:function(t){e.$set(e.dialogMiddle,"dataTypeLong",t)},expression:"dialogMiddle.dataTypeLong"}})],1)],1),a("el-form-item",{attrs:{label:"Field查询条件",prop:"fieldSearchType"}},[a("el-col",{attrs:{span:8}},[a("el-select",{attrs:{placeholder:"请选择Field查询条件",clearable:""},model:{value:e.dialogMiddle.fieldSearchType,callback:function(t){e.$set(e.dialogMiddle,"fieldSearchType",t)},expression:"dialogMiddle.fieldSearchType"}},e._l(e.typeSearchOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-form-item",{attrs:{label:"关联字典",prop:"dictType"}},[a("el-col",{attrs:{span:8}},[a("el-select",{attrs:{disabled:"int"!==e.dialogMiddle.fieldType,placeholder:"请选择字典",clearable:""},model:{value:e.dialogMiddle.dictType,callback:function(t){e.$set(e.dialogMiddle,"dictType",t)},expression:"dialogMiddle.dictType"}},e._l(e.dictOptions,(function(e){return a("el-option",{key:e.type,attrs:{label:e.type+"("+e.name+")",value:e.type}})})),1)],1)],1)],1)],1)},i=[],l=(a("96cf"),a("1da1")),n=a("0680"),o=a("2a18"),d=a("b00a"),s={name:"FieldDialog",props:{dialogMiddle:{type:Object,default:function(){return{}}}},data:function(){return{dbfdOptions:[],dictOptions:[],typeSearchOptions:[{label:"=",value:"="},{label:"<>",value:"<>"},{label:">",value:">"},{label:"<",value:"<"},{label:"LIKE",value:"LIKE"}],typeOptions:[{label:"字符串",value:"string"},{label:"整型",value:"int"},{label:"布尔值",value:"bool"},{label:"浮点型",value:"float64"},{label:"时间",value:"time.Time"}],rules:{fieldName:[{required:!0,message:"请输入field英文名",trigger:"blur"}],fieldDesc:[{required:!0,message:"请输入field中文名",trigger:"blur"}],fieldJson:[{required:!0,message:"请输入field格式化json",trigger:"blur"}],columnName:[{required:!0,message:"请输入数据库字段",trigger:"blur"}],fieldType:[{required:!0,message:"请选择field数据类型",trigger:"blur"}]}}},created:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(d["getSysDictionaryList"])({page:1,pageSize:999999});case 2:a=t.sent,e.dictOptions=a.data.list;case 4:case"end":return t.stop()}}),t)})))()},methods:{autoFill:function(){this.dialogMiddle.fieldJson=Object(o["toLowerCase"])(this.dialogMiddle.fieldName),this.dialogMiddle.columnName=Object(o["toSQLLine"])(this.dialogMiddle.fieldJson)},getDbfdOptions:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.dialogMiddle.dataType="",e.dialogMiddle.dataTypeLong="",e.dialogMiddle.fieldSearchType="",e.dialogMiddle.dictType="",!e.dialogMiddle.fieldType){t.next=8;break}return t.next=7,Object(n["getDict"])(e.dialogMiddle.fieldType);case 7:e.dbfdOptions=t.sent;case 8:case"end":return t.stop()}}),t)})))()}}},c=s,u=a("2877"),f=Object(u["a"])(c,r,i,!1,null,null,null);t["default"]=f.exports},ca09:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"previewCode"},[a("div",{staticClass:"previewCodeTool"},[a("p",[e._v("操作栏：")]),a("el-button",{on:{click:e.selectText}},[e._v("全选")]),a("el-button",{on:{click:e.copy}},[e._v("复制")])],1),a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.previewCode,(function(e,t){return a("el-tab-pane",{key:t,attrs:{label:t,name:t}},[a("div",{staticClass:"tab-info",attrs:{id:t}})])})),1)],1)},i=[],l=a("0e54"),n=a.n(l),o=a("1487"),d=a.n(o),s=(a("8d5f"),{props:{previewCode:{type:Object,default:function(){return{}}}},data:function(){return{activeName:""}},mounted:function(){for(var e in n.a.setOptions({renderer:new n.a.Renderer,highlight:function(e){return d.a.highlightAuto(e).value},pedantic:!1,gfm:!0,tables:!0,breaks:!1,sanitize:!1,smartLists:!0,smartypants:!1,xhtml:!1}),this.previewCode)""===this.activeName&&(this.activeName=e),document.getElementById(e).innerHTML=n()(this.previewCode[e])},methods:{selectText:function(){var e=document.getElementById(this.activeName);if(document.body.createTextRange){var t=document.body.createTextRange();t.moveToElementText(e),t.select()}else if(window.getSelection){var a=window.getSelection(),r=document.createRange();r.selectNodeContents(e),a.removeAllRanges(),a.addRange(r)}else alert("none")},copy:function(){this.selectText(),document.execCommand("copy"),this.$message.success("复制成功")}}}),c=s,u=(a("e70b"),a("2877")),f=Object(u["a"])(c,r,i,!1,null,null,null);t["default"]=f.exports},e01a:function(e,t,a){"use strict";var r=a("23e7"),i=a("83ab"),l=a("da84"),n=a("5135"),o=a("861d"),d=a("9bf2").f,s=a("e893"),c=l.Symbol;if(i&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var u={},f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof f?new c(e):void 0===e?c():c(e);return""===e&&(u[t]=!0),t};s(f,c);var p=f.prototype=c.prototype;p.constructor=f;var m=p.toString,b="Symbol(test)"==String(c("test")),g=/^Symbol\((.*)\)[^)]+$/;d(p,"description",{configurable:!0,get:function(){var e=o(this)?this.valueOf():this,t=m.call(e);if(n(u,e))return"";var a=b?t.slice(7,-1):t.replace(g,"$1");return""===a?void 0:a}}),r({global:!0,forced:!0},{Symbol:f})}},e70b:function(e,t,a){"use strict";var r=a("539a"),i=a.n(r);i.a}}]);
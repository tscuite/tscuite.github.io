(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10b07333","chunk-2d0ba70d","chunk-2d21a844","chunk-2d0b9e22","chunk-2d0a3741","chunk-2d0e9955"],{"01f0":function(t,e,n){t.exports=n.p+"static/img/video.09ec4416.png"},"09ed":function(t,e,n){},"0ba6":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"userLayout"}},[n("div",{staticClass:"login_panle"},[n("div",{staticClass:"login_panle_form"},[n("div",{staticClass:"login_panle_form_title"},[n("img",{staticClass:"login_panle_form_title_logo",attrs:{src:t.$GIN_VUE_ADMIN.appLogo,alt:""}}),n("p",{staticClass:"login_panle_form_title_p"},[t._v(t._s(t.$GIN_VUE_ADMIN.appName))])]),n("el-form",{ref:"loginForm",attrs:{model:t.loginForm,rules:t.rules},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitForm(e)}}},[n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}},[n("i",{staticClass:"el-input__icon el-icon-user",attrs:{slot:"suffix"},slot:"suffix"})])],1),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{type:"lock"===t.lock?"password":"text",placeholder:"请输入密码"},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}},[n("i",{class:"el-input__icon el-icon-"+t.lock,attrs:{slot:"suffix"},on:{click:t.changeLock},slot:"suffix"})])],1),n("el-form-item",{staticStyle:{position:"relative"}},[n("el-input",{staticStyle:{width:"60%"},attrs:{name:"logVerify",placeholder:"请输入验证码"},model:{value:t.loginForm.captcha,callback:function(e){t.$set(t.loginForm,"captcha",e)},expression:"loginForm.captcha"}}),n("div",{staticClass:"vPic"},[t.picPath?n("img",{attrs:{src:t.picPath,width:"100%",height:"100%",alt:"请输入验证码"},on:{click:function(e){return t.loginVerify()}}}):t._e()])],1),n("div"),n("el-form-item",[n("el-button",{staticStyle:{width:"46%"},attrs:{type:"primary"},on:{click:t.checkInit}},[t._v("前往初始化")]),n("el-button",{staticStyle:{width:"46%","margin-left":"8%"},attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("登 录")])],1)],1)],1),n("div",{staticClass:"login_panle_right"}),n("div",{staticClass:"login_panle_foot"},[t._m(0),n("div",{staticClass:"copyright"},[t._v("Copyright © "+t._s(t.curYear)+" 💖 flipped-aurora")])])])])},i=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"links"},[r("a",{attrs:{href:"http://doc.henrongyi.top/"}},[r("img",{staticClass:"link-icon",attrs:{src:n("bc9f")}})]),r("a",{attrs:{href:"https://www.yuque.com/flipped-aurora/"}},[r("img",{staticClass:"link-icon",attrs:{src:n("8dc6")}})]),r("a",{attrs:{href:"https://github.com/flipped-aurora/gin-vue-admin"}},[r("img",{staticClass:"link-icon",attrs:{src:n("359c")}})]),r("a",{attrs:{href:"https://space.bilibili.com/322210472"}},[r("img",{staticClass:"link-icon",attrs:{src:n("01f0")}})])])}],a=(n("96cf"),n("1da1")),o=n("5530"),c=n("5880"),s=n("c24f"),l=n("36e9"),u={name:"Login",data:function(){var t=function(t,e,n){if(e.length<5)return n(new Error("请输入正确的用户名"));n()},e=function(t,e,n){if(e.length<6)return n(new Error("请输入正确的密码"));n()};return{curYear:0,lock:"lock",loginForm:{username:"admin",password:"123456",captcha:"",captchaId:""},rules:{username:[{validator:t,trigger:"blur"}],password:[{validator:e,trigger:"blur"}]},logVerify:"",picPath:""}},created:function(){this.loginVerify(),this.curYear=(new Date).getFullYear()},methods:Object(o["a"])(Object(o["a"])({},Object(c["mapActions"])("user",["LoginIn"])),{},{checkInit:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["checkDB"])();case 2:n=e.sent,0===n.code&&((null===(r=n.data)||void 0===r?void 0:r.needInit)?(t.$store.commit("user/NeedInit"),t.$router.push({name:"Init"})):t.$message({type:"info",message:"已配置数据库信息，无法初始化"}));case 4:case"end":return e.stop()}}),e)})))()},login:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.LoginIn(t.loginForm);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},submitForm:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$refs.loginForm.validate(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=7;break}return e.next=3,t.login();case 3:r=e.sent,r||t.loginVerify(),e.next=10;break;case 7:return t.$message({type:"error",message:"请正确填写登录信息",showClose:!0}),t.loginVerify(),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))()},changeLock:function(){this.lock="lock"===this.lock?"unlock":"lock"},loginVerify:function(){var t=this;Object(s["captcha"])({}).then((function(e){t.picPath=e.data.picPath,t.loginForm.captchaId=e.data.captchaId}))}})},p=u,m=(n("4a55"),n("2877")),f=Object(m["a"])(p,r,i,!1,null,"171e7a77",null);e["default"]=f.exports},"359c":function(t,e,n){t.exports=n.p+"static/img/github.5d298198.png"},"36e9":function(t,e,n){"use strict";n.r(e),n.d(e,"initDB",(function(){return i})),n.d(e,"checkDB",(function(){return a}));var r=n("b775"),i=function(t){return Object(r["default"])({url:"/init/initdb",method:"post",data:t})},a=function(){return Object(r["default"])({url:"/init/checkdb",method:"post"})}},"4a55":function(t,e,n){"use strict";var r=n("09ed"),i=n.n(r);i.a},"8dc6":function(t,e,n){t.exports=n.p+"static/img/yuque.5236e459.png"},bc9f:function(t,e,n){t.exports=n.p+"static/img/docs.20eecda0.png"}}]);
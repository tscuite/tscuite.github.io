(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bd9b7"],{"2d5d":function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return r}));i("c19f"),i("ace4"),i("b0c0"),i("d3b7"),i("ac1f"),i("1276"),i("5cc6"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("170b"),i("b39a"),i("72f7");var a=i("d4ec"),n=i("bee2"),r=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1920;Object(a["a"])(this,e),this.file=t,this.fileSize=i,this.maxWH=n}return Object(n["a"])(e,[{key:"compress",value:function(){var e=this,t=this.file.type,i=this.file.size/1024;return new Promise((function(a){var n=new FileReader;n.readAsDataURL(e.file),n.onload=function(){var r=document.createElement("canvas"),c=document.createElement("img");c.src=n.result,c.onload=function(){var n=r.getContext("2d"),d=e.dWH(c.width,c.height,e.maxWH);r.width=d.width,r.height=d.height,n.clearRect(0,0,r.width,r.height),n.drawImage(c,0,0,r.width,r.height);var h=r.toDataURL(t,.9),o=e.fileSizeKB(h);o>e.fileSize&&console.log("图片尺寸太大!"+i+" >> "+o);var l=e.dataURLtoBlob(h,t),f=new File([l],e.file.name);a(f)}}}))}},{key:"dWH",value:function(e,t,i){var a={width:e,height:t};return Math.max(e,t)>i?e>t?(a.width=i,a.height=Math.round(t*(i/e)),a):(a.height=i,a.width=Math.round(e*(i/t)),a):a}},{key:"fileSizeKB",value:function(e){var t=0;return t=Math.round(3*e.split(",")[1].length/4/1024),t}},{key:"dataURLtoBlob",value:function(e,t){for(var i=atob(e.split(",")[1]),a=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(i.length),r=new Uint8Array(n),c=0;c<i.length;c++)r[c]=i.charCodeAt(c);return t&&(a=t),new Blob([n],{type:a,lastModifiedDate:new Date})}}]),e}()}}]);